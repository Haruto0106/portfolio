<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haruto Tanaka Profile</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      font-family: 'Inter', 'Noto Sans JP', sans-serif;
    }
    /* データ内の改行(\n)をHTMLの改行として表示するためのスタイル */
    .whitespace-pre-line {
      white-space: pre-line;
    }
  </style>
</head>
<body>

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // --- ポートフォリオデータ（変更後）---
    const portfolioData = [
      {
        era: '大学院修士課程',
        duration: '2025 - 現在',
        introduction: '航空宇宙工学科専攻に進学し，実験流体力学と数値流体力学の研究に取り組んでいます。プログラミングのスキルを活かして、研究データの解析やシミュレーションを行っています。',
        projects: [
          {
            title: 'ISTS 2025 研究発表',
            description: '2025年の国際宇宙技術シンポジウムで、実験流体力学に関する研究成果を発表しました。',
            imageUrl: '',
            tags: ['Research','Aerospace'],
            detailedDescription: `土星の衛星エンケラドスの水蒸気噴出に関する前例のない実験装置の製作をし，データの解析を行いました．その結果を基に学会で発表しました`,
            links: [
              { url: 'https://ists.ne.jp', label: 'ISTS公式' },
            ],
          },
        ],
      },
      {
        era: '大学時代',
        duration: '2021 - 2025',
        introduction: '大学では航空宇宙工学を専攻．自分で物を作ることが好きで、様々なプロジェクトに取り組みました．特にプログラミングとハードウェアの組み合わせに興味があります．',
        projects: [
          {
            title: '【卒業設計】Sun-Earth L点待機PHA迎撃機 ROCK ON',
            description: '地球と太陽のラグランジュ点に待機するPHA (潜在的に危険な小惑星) 迎撃機の設計とシミュレーションを行いました。',
            imageUrl: 'images/pha.png',
            tags: ['Python','機械学習','熱設計','構造設計'],

            detailedDescription: `大学の卒業研究として、地球と太陽のラグランジュ点に待機するPHA (潜在的に危険な小惑星) 迎撃機の設計を行いました。\n このミッションの目的は多大な被害をもたらす小惑星の地球への衝突を防ぐことです．この宇宙機は，太陽-地球 ラグランジュ点に待機し，地球に衝突する可能性が高い直径50m級までの小惑星に衝突し，軌道変更または破壊を行います.

            \n主な研究内容は、以下の通りです。\n1. 小惑星の衝突予測と迎撃タイミングの最適化\n2. 迎撃機の熱設計と構造設計\n3. 迎撃機の軌道制御とシミュレーション`,
            links: [],  // リンクなしでも空配列でOK
          },
          {
            title: '【卒業論文】エンケラドスにおけるプルームダイナミクスの実験的研究',
            description: '土星の衛星エンケラドスにおける水蒸気噴出のダイナミクスを実験的に研究しました．この研究で作成した実験装置は、土星の衛星エンケラドスの水蒸気噴出に関する前例のないものです．その成果が認められ，2024年度工学部長賞研究優秀賞を受賞しました．',
            imageUrl: 'images/enceladus.png',   
            tags: ['実験流体力学','圧縮性流体','Python'],

            detailedDescription: ``,
            links: [
              { url: 'https://www.t.u-tokyo.ac.jp/topics/tp2025-03-31-004', label: '工学部長賞紹介ページ' },
            ],
          },
          {
            title: '【課外活動】QueenBee 自律飛行ドローンの開発',
            description: '自律飛行ドローンの開発に取り組みました．制御班長として、ドローンの飛行アルゴリズムを設計し、実装しました．国際大会では，3位入賞を果たしました． \n ドローンとしての最長飛行記録を達成し，ゴールからの距離を最も短くすることに成功しました．',
            imageUrl: 'images/drone.jpg',
            tags: ['Python','ハードウェア','制御','ロボティクス'],

            detailedDescription: ``,
            links: [
              { url: 'https://unisec.jp/archives/10330', label: '国際大会 ARLISS 結果' },
            ],
          },         
        ],
      },
      {
        era: '高校時代',
        duration: '2018 - 2021',
        introduction: '高校では天文気象部に所属し、気象観測装置の自動化に関する研究を行い，学会やコンテストでの発表を行いました．',
        projects: [
          {
            title: '【部活動】物理部でのロボット製作',
            description: '物理部でロボット製作に取り組みました．特に自律移動ロボットの制御アルゴリズムを設計しました．',
            imageUrl: 'images/robot.jpg',
            tags: ['Python','ハードウェア','制御'],

            detailedDescription: ``,
            links: [],
          },
        ],
      }
    ];

    // --- 趣味データ ---
    const hobbiesData = [
      { title: '写真撮影', description: '星空や風景写真を撮るのが好きで、Nikon D5600, iPhone 15 Proで撮影しています。', imageUrl: 'images/butter.jpg', tags: [], detailedDescription: `星の写真や風景の写真を撮っています．お気に入りの場所は新宿御苑です．`, links: [] },
      {title: '天体観測', description: '天体観測が趣味で、特に星座や惑星の観察を楽しんでいます。', imageUrl: 'images/stars.jpg', tags: [], detailedDescription: `星座や惑星の観察をしています．お気に入りの星座はイルカ座です`, links: [] },
      {title: '電子工作', description: 'ArduinoやRaspberry Piを使った電子工作が好きで、様々なプロジェクトに取り組んでいます。', imageUrl: 'images/electronics.jpg', tags: [], detailedDescription: `ArduinoやRaspberry Piを使った電子工作をしています．最近はSQLに手を出しています`, links: [] }
    ];

    // --- バイトデータ ---
    const jobsData = [
      { title: '高校のTA',
        description: '高校の探究授業のTAを務め、学生の研究活動をサポートしました。',
        imageUrl: 'images/tachiko.png',
        tags: ['研究','論文'],
        detailedDescription: ``,
        links: []
      },
      { title: '塾講師',
        description: '中学生を対象に数学・英語の個別指導。',
        imageUrl: 'images/tutor.jpg',
        tags: ['教育','責任感'],
        detailedDescription: `・定期テスト対策の立案\n・オンライン授業の実施\n・進捗管理`,
        links: []
      },
      { title: '電子部品販売スタッフ',
        description: '秋葉原の電子部品店で、接客と商品管理を担当しました。',
        imageUrl: 'images/tutor.jpg',
        tags: ['責任感'],
        detailedDescription: ``,
        links: []
      }
    ];

    // --- コンポーネント ---
    const Header = () => (
      <header className="bg-gray-900 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div className="container mx-auto flex justify-between items-center">
          <h1 className="text-2xl font-bold">Haruto Tanaka</h1>
          <nav>
            <a href="#about"   className="text-gray-300 hover:text-white px-3 py-2 text-sm">About</a>
            <a href="#hobbies" className="text-gray-300 hover:text-white px-3 py-2 text-sm">Hobbies</a>
            <a href="#timeline"className="text-gray-300 hover:text-white px-3 py-2 text-sm">Timeline</a>
          </nav>
        </div>
      </header>
    );

    const ProfileCard = () => (
      <section id="about" className="py-20 bg-white">
        <div className="container mx-auto px-6 text-center">
          <img
            src="images/profile.jpg"
            alt="あなたの写真"
            className="w-40 h-40 rounded-full mx-auto mb-6 border-4 border-purple-500 shadow-xl"
          />
          <h2 className="text-4xl font-extrabold text-gray-800 mb-2">Haruto Tanaka</h2>
          <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
            航空宇宙工学を専攻しています． 
          </p>
          <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
            実験流体力学と数値流体力学の研究に取り組んでおり、< br /> プログラミングを活用してデータ解析やシミュレーションを行っています．<br />
            PythonやC++を使用して、研究やプロジェクトに取り組んでいます．
          </p>
          <div className="flex justify-center space-x-4">
            <a href="https://github.com/haruto0106" className="bg-gray-800 text-white font-bold py-2 px-4 rounded-full hover:bg-purple-600 transition-colors duration-300">
              GitHub
            </a>

          </div>
        </div>
      </section>
    );

    // ★変更点: プロジェクト固有の詳細情報を表示するように修正
    const DetailPage = ({ item, onBack }) => (
      <div className="container mx-auto px-6 py-12 bg-white rounded-xl shadow-lg mt-8 mb-8">
        <button
          onClick={onBack}
          className="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-full hover:bg-gray-300 transition-colors duration-300 mb-8"
        >
          &larr; 戻る
        </button>
        <h2 className="text-4xl font-bold text-gray-800 mb-6">{item.title}</h2>
        <img
          src={item.imageUrl}
          alt={item.title}
          className="w-full h-auto rounded-lg mb-8 shadow-md"
        />
        <p className="text-lg text-gray-700 leading-relaxed mb-8">{item.description}</p>
        <div className="flex flex-wrap gap-3">
          {item.tags?.map(tag => (
            <span key={tag} className="bg-purple-100 text-purple-800 text-md font-semibold px-3 py-1 rounded-full">
              {tag}
            </span>
           ))}
        </div>

        {/* --- ここからが修正箇所 --- */}
        <div className="mt-12 p-6 bg-gray-50 rounded-lg border border-gray-200">
          <h3 className="text-2xl font-bold text-gray-800 mb-4">プロジェクトの詳細情報</h3>
          {/* project.detailedDescription を表示。whitespace-pre-lineで改行も反映 */}
          <p className="text-gray-600 whitespace-pre-line">
            {item.detailedDescription}
          </p>
          
          {/* リンクが存在する場合のみ表示 */}
          <div className="mt-4 flex flex-wrap gap-4">
            {item.links?.map((link, i) => (
              <a
                key={i}
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                className="text-purple-600 hover:underline font-semibold flex items-center"
              >
                {/* アイコンは必要に応じて入れ替え */}
                <svg className="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
        </svg>
                {link.label}
              </a>
            ))}
          </div>
        </div>
      </div>
    );

    const ProjectCard = ({ project, onClick }) => (
      <div
        className="bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 ease-in-out cursor-pointer"
        onClick={() => onClick(project)}
      >
        <img
          src={project.imageUrl}
          alt={project.title}
          className="w-full h-56 object-cover"
        />
        <div className="p-6">
          <h3 className="text-xl font-bold text-gray-800 mb-2">{project.title}</h3>
          <p className="text-gray-600 mb-4">{project.description}</p>
          <div className="flex flex-wrap gap-2">
            {project.tags.map(tag => (
              <span key={tag} className="bg-purple-100 text-purple-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                {tag}
              </span>
            ))}
          </div>
        </div>
      </div>
    );

    // --- 小さいカード用コンポーネント ---
    const SmallCard = ({ item, onClick }) => (
      <div
        className="bg-white rounded-lg shadow-sm overflow-hidden transform hover:-translate-y-1 transition cursor-pointer"
        onClick={() => onClick(item)}
      >
        <img
          src={item.imageUrl}
          alt={item.title}
          className="w-full h-32 object-cover"
        />
        <div className="p-3">
          <h3 className="text-lg font-medium text-gray-800 truncate">{item.title}</h3>
        </div>
      </div>
    );

    const App = () => {
      const [selectedItem, setSelectedItem] = useState(null);

      // popstate でブラウザの戻る/進むをハンドル
      useEffect(() => {
        const onPop = e => {
          if (e.state?.item) setSelectedItem(e.state.item);
          else setSelectedItem(null);
        };
        window.addEventListener('popstate', onPop);
        return () => window.removeEventListener('popstate', onPop);
      }, []);

      const handleItemClick = item => {
        // 履歴に state を追加
        window.history.pushState({ item }, '', '');
        setSelectedItem(item);
      };

      const handleBack = () => window.history.back();

      return (
        <div className="bg-gray-50 font-sans">
          <Header />
          <main>
            {selectedItem ? (
              <DetailPage item={selectedItem} onBack={handleBack}/>
            ) : (
              <>
                <ProfileCard />

                {/* Hobbies セクション */}
                <section id="hobbies" className="py-20 bg-white">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center mb-12">Hobbies</h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-6">
                      {hobbiesData.map((h, i) => (
                        <SmallCard key={i} item={{...h, imageUrl: h.imageUrl}} onClick={handleItemClick}/>
                      ))}
                    </div>
                  </div>
                </section>

                {/* Jobs セクション */}
                <section id="jobs" className="py-20 bg-gray-50">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center mb-12">Part-time Jobs</h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-6">
                      {jobsData.map((j, i) => (
                        <SmallCard key={i} item={{...j, imageUrl: j.imageUrl}} onClick={handleItemClick}/>
                      ))}
                    </div>
                  </div>
                </section>

                {/* Timeline セクション */}
                <section id="timeline" className="py-20 bg-gray-100">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center text-gray-800 mb-16">My Timeline</h2>
                    <div className="relative wrap overflow-hidden">
                        <div className="hidden absolute border-opacity-20 border-gray-700 h-full border" style={{left: '50%'}}></div>
                        {portfolioData.map((period, index) => (
                           <div key={index} className="mb-8 flex flex-col items-center w-full">
                                <div className="z-20 flex items-center bg-purple-500 shadow-xl w-8 h-8 rounded-full mb-4">
                                    <h1 className="mx-auto font-semibold text-lg text-white">{index + 1}</h1>
                                </div>
                                <div className="order-2 bg-white rounded-lg shadow-xl w-full max-w-lg px-6 py-4 mx-auto">
                                   <div className="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                                        <div className="flex items-center mb-4">
                                            <div>
                                                <h2 className="text-2xl font-bold text-gray-800">{period.era}</h2>
                                                <p className="text-purple-700 font-semibold">{period.duration}</p>
                                            </div>
                                        </div>
                                        <p className="text-gray-600 mb-6">{period.introduction}</p>
                                        <div className="grid grid-cols-1 gap-6">
                                            {period.projects.map((project, pIndex) => (
                                                <ProjectCard key={pIndex} project={project} onClick={handleItemClick} />
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                  </div>
                </section>
              </>
            )}
          </main>
          <footer className="bg-gray-900 text-white py-8">
            <div className="container mx-auto text-center">
              <p>&copy; {new Date().getFullYear()} Haruto Tanaka. All Rights Reserved.</p>
            </div>
          </footer>
        </div>
      );
    };
    
    ReactDOM.render(<App />, document.getElementById('root'));

  </script>
</body>
</html>