<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haruto Tanaka Profile</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-pVIzGZsYKTBSaM+nU2DNga+8+VxSheP+1G3iZjriBUvsZ/EjUjTWjKIgL9yjR+lc+OMM6Xixdq8WveVAh5a9ZA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"
  />

  <style>
    body {
      font-family: 'Inter', 'Noto Sans JP', sans-serif;
    }
    /* データ内の改行(\n)をHTMLの改行として表示するためのスタイル */
    .whitespace-pre-line {
      white-space: pre-line;
    }
  </style>
</head>
<body>

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // --- ポートフォリオデータ（変更後）---
    const portfolioData = [
      {
        era: '大学院修士課程',
        duration: '2025 - 現在',
        introduction: '航空宇宙工学科専攻に進学し，実験流体力学と数値流体力学の研究に取り組んでいます。プログラミングのスキルを活かして、研究データの解析やシミュレーションを行っています。',
        projects: [
          {
            title: 'ISTS 2025 研究発表',
            description: '2025年の国際宇宙技術シンポジウムで、実験流体力学に関する研究成果を発表いたします。',
            imageUrl: '',
            tags: ['Research','Aerospace'],
            detailedDescription: `土星の衛星エンケラドスの水蒸気噴出に関する前例のない実験装置の製作をし，データの解析を行いました．その結果を基に学会で発表いたします`,
            links: [
              { url: 'https://ists.ne.jp', label: 'ISTS公式' },
            ],
          },
        ],
      },
      {
        era: '大学時代',
        duration: '2021 - 2025',
        introduction: '大学では航空宇宙工学を専攻．自分で物を作ることが好きで、様々なプロジェクトに取り組みました．特にプログラミングとハードウェアの組み合わせに興味があります．',
        projects: [
          {
            title: '【卒業設計】Sun-Earth L点待機PHA迎撃機 ROCK ON',
            description: '地球と太陽のラグランジュ点に待機するPHA (潜在的に危険な小惑星) 迎撃機の設計とシミュレーションを行いました。',
            imageUrl: 'images/pha.png',
            tags: ['Python','機械学習','熱設計','構造設計'],

            detailedDescription: `大学の卒業研究として、地球と太陽のラグランジュ点に待機するPHA (潜在的に危険な小惑星) 迎撃機の設計を行いました。\n このミッションの目的は多大な被害をもたらす小惑星の地球への衝突を防ぐことです．この宇宙機は，太陽-地球 ラグランジュ点に待機し，地球に衝突する可能性が高い直径50m級までの小惑星に衝突し，軌道変更または破壊を行います.

            \n主な研究内容は、以下の通りです。\n1. 小惑星の衝突予測と迎撃タイミングの最適化\n2. 迎撃機の熱設計と構造設計\n3. 迎撃機の軌道制御とシミュレーション`,
            links: [],  // リンクなしでも空配列でOK
          },
          {
            title: '【卒業論文】エンケラドスにおけるプルームダイナミクスの実験的研究',
            description: '土星の衛星エンケラドスにおける水蒸気噴出のダイナミクスを実験的に研究しました．この研究で作成した実験装置は、土星の衛星エンケラドスの水蒸気噴出に関する前例のないものです．その成果が認められ，2024年度工学部長賞研究優秀賞を受賞しました．',
            imageUrl: 'images/enceladus.png',   
            tags: ['実験流体力学','圧縮性流体','Python'],

            detailedDescription: ``,
            links: [
              { url: 'https://www.t.u-tokyo.ac.jp/topics/tp2025-03-31-004', label: '工学部長賞紹介ページ' },
            ],
          },
          {
            title: '【課外活動】QueenBee 自律飛行ドローンの開発',
            description: '自律飛行ドローンの開発に取り組みました．制御班長として、ドローンの飛行アルゴリズムを設計し、実装しました．国際大会では，3位入賞を果たしました． \n ドローンとしての最長飛行記録を達成し，ゴールからの距離を最も短くすることに成功しました．',
            imageUrl: 'images/drone.jpg',
            tags: ['Python','ハードウェア','制御','ロボティクス'],

            detailedDescription: ``,
            links: [
              { url: 'https://unisec.jp/archives/10330', label: '国際大会 ARLISS 結果' },
            ],
          },         
        ],
      },
      {
        era: '高校時代',
        duration: '2018 - 2021',
        introduction: '高校では天文気象部に所属し、気象観測装置の自動化に関する研究を行い，学会やコンテストでの発表を行いました．',
        projects: [
          {
            title: '【研究】視程自動観測装置の開発',
            description: '視程とはどこまで見通せるかの距離を示す気象情報です．視程観測は本校で70年以上続く伝統であり，貴重なデータを蓄積しています．視程観測は定時に人の目で行うため、欠測が出てしまう問題がありました．そこで，視程自動観測装置を開発し，常に視程を観測できるようにしました．また，コロナ禍での目視観測の難しさを解決することができました． ',
            imageUrl: 'images/image.png',
            tags: ['Python','ハードウェア','制御','カメラ'],

            detailedDescription: ` 気象観測機器コンテストでは，代表理事特別賞を受賞しました．\nまた，JpGU (地球惑星連合学会) の高校生セッションでは，優秀研究賞・優秀ポスター賞を受賞しました．\n 中高生情報学研究コンテストでは最優秀賞を受賞しました．`,
            links: [
                { url: 'https://www.wxbunka.com/cms/wp-content/uploads/2017/01/report-of-8th-No3.pdf', label: '気象観測機器コンテスト 受賞' },
                { url:'https://confit.atlas.jp/guide/event/jpgu2020/subject/O04-P64/detail', label: 'JpGU 研究概要' },
                { url: 'https://www.jpgu.org/highschool_session/2020v/images/2020v_hsposter_sokuhou.pdf', label: 'JpGU 受賞' },
                { url: 'https://activity.miraibook.jp/live/210401/16/', label: '中高生情報学研究コンテスト受賞時 取材' },
            ],
          },
        ],
      }
    ];

    // --- 趣味データ ---
    const hobbiesData = [
      { title: '写真撮影', description: '星空や風景写真を撮るのが好きです．Nikon D5600, iPhone 15 Proで撮影しています。', imageUrl: 'images/butter.jpg', tags: [], detailedDescription: ``, links: [] },
      {title: '天体観測', description: '天体観測が趣味で、特に星座や惑星の観察を楽しんでいます。', imageUrl: 'images/stars.jpg', tags: [], detailedDescription: '', links: [] },
      {title: '電子工作', description: 'ArduinoやRaspberry Piを使った電子工作が好きで、様々なプロジェクトに取り組んでいます。', imageUrl: 'images/denshi.png', tags: [], detailedDescription: `ArduinoやRaspberry Piを使った電子工作をしています．最近はSQLに手を出しています`, links: [] }
    ];

    // --- バイトデータ ---
    const jobsData = [
      { title: '高校のTA',
        description: '高校の探究授業のTAを務め、学生の研究活動をサポートしました。',
        imageUrl: 'images/tachiko.png',
        tags: ['研究','論文'],
        detailedDescription: ``,
        links: [],
        hideImage: true,
        icon: 'ta'
      },
      { title: '塾講師',
        description: '中学生を対象に数学・英語の個別指導。',
        imageUrl: '',
        tags: ['教育','責任感'],
        detailedDescription: `・定期テスト対策の立案\n・オンライン授業の実施\n・進捗管理`,
        links: [],
        hideImage: true,
        icon: 'tutor'
      },
      { title: '電子部品販売スタッフ',
        description: '秋葉原の電子部品店で、接客を担当しました。',
        imageUrl: '',
        tags: ['責任感'],
        detailedDescription: ``,
        links: [],
        hideImage: true,
        icon: 'electronics'
      }
    ];

    // --- コンポーネント ---
    const Header = () => (
      <header className="bg-gray-900 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div className="container mx-auto flex justify-between items-center">
          <h1 className="text-2xl font-bold">Haruto Tanaka</h1>
          <nav>
            <a href="#about"   className="text-gray-300 hover:text-white px-3 py-2 text-sm">About</a>
            <a href="#hobbies" className="text-gray-300 hover:text-white px-3 py-2 text-sm">Hobbies</a>
            <a href="#jobs"    className="text-gray-300 hover:text-white px-3 py-2 text-sm">Jobs</a>
            <a href="#timeline"className="text-gray-300 hover:text-white px-3 py-2 text-sm">Timeline</a>
          </nav>
        </div>
      </header>
    );

    const ProfileCard = () => (
      <section id="about" className="py-20 bg-white">
        <div className="container mx-auto px-6 text-center">
          <img
            src="images/profile.jpg"
            alt="あなたの写真"
            className="w-40 h-40 rounded-full mx-auto mb-6 border-4 border-purple-500 shadow-xl"
          />
          <h2 className="text-4xl font-extrabold text-gray-800 mb-2">Haruto Tanaka</h2>
          <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
            航空宇宙工学を専攻しています． 
          </p>
          <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
            実験流体力学と数値流体力学の研究に取り組んでおり、< br /> プログラミングを活用してデータ解析やシミュレーションを行っています．<br />
            PythonやC++を使用して、研究やプロジェクトに取り組んでいます．
          </p>
          <div className="flex justify-center space-x-4">
            <a href="https://github.com/haruto0106" className="bg-gray-800 text-white font-bold py-2 px-4 rounded-full hover:bg-purple-600 transition-colors duration-300">
              GitHub
            </a>

          </div>
        </div>
      </section>
    );

    // ★変更点: プロジェクト固有の詳細情報を表示するように修正
    const DetailPage = ({ item, onBack }) => (
      <div className="container mx-auto px-6 py-12 bg-white rounded-xl shadow-lg mt-8 mb-8">
        <button
          onClick={onBack}
          className="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-full hover:bg-gray-300 transition-colors duration-300 mb-8"
        >
          &larr; 戻る
        </button>
        <h2 className="text-4xl font-bold mb-6">{item.title}</h2>
        { !item.hideImage && item.imageUrl && (
          <img
            src={item.imageUrl}
            alt={item.title}
            className="w-full h-auto rounded-lg mb-8 shadow-md"
          />
        )}
        <p className="text-lg text-gray-700 leading-relaxed mb-8">{item.description}</p>
        <div className="flex flex-wrap gap-3">
          {item.tags?.map(tag => (
            <span key={tag} className="bg-purple-100 text-purple-800 text-md font-semibold px-3 py-1 rounded-full">
              {tag}
            </span>
           ))}
        </div>

        {/* --- ここからが修正箇所 --- */}
        <div className="mt-12 p-6 bg-gray-50 rounded-lg border border-gray-200">
          <h3 className="text-2xl font-bold text-gray-800 mb-4">プロジェクトの詳細情報</h3>
          {/* project.detailedDescription を表示。whitespace-pre-lineで改行も反映 */}
          <p className="text-gray-600 whitespace-pre-line">
            {item.detailedDescription}
          </p>
          
          {/* リンクが存在する場合のみ表示 */}
          <div className="mt-4 flex flex-wrap gap-4">
            {item.links?.map((link, i) => (
              <a
                key={i}
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                className="text-purple-600 hover:underline font-semibold flex items-center"
              >
                {/* アイコンは必要に応じて入れ替え */}
                <svg className="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
        </svg>
                {link.label}
              </a>
            ))}
          </div>
        </div>
      </div>
    );

    const ProjectCard = ({ project, onClick }) => (
      <div
        className="bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 ease-in-out cursor-pointer"
        onClick={() => onClick(project)}
      >
        <img
          src={project.imageUrl}
          alt={project.title}
          className="w-full h-56 object-cover"
        />
        <div className="p-6">
          <h3 className="text-xl font-bold text-gray-800 mb-2">{project.title}</h3>
          <p className="text-gray-600 mb-4">{project.description}</p>
          <div className="flex flex-wrap gap-2">
            {project.tags.map(tag => (
              <span key={tag} className="bg-purple-100 text-purple-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">
                {tag}
              </span>
            ))}
          </div>
        </div>
      </div>
    );

    // --- 小さいカード用コンポーネント ---
const SmallCard = ({ item, onClick }) => {
  // SVGアイコンの定義
  const renderIcon = () => {
    switch (item.icon) {
      case 'ta':
        return (
          <svg xmlns="http://www.w3.org/2000/svg" className="w-12 h-12 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 14l9-5-9-5-9 5 9 5z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 14l6.16-3.422A12.083 12.083 0 0118 20.25H6a12.083 12.083 0 01-.16-9.672L12 14z" />
          </svg>
        );
      case 'tutor':
        return (
          <svg xmlns="http://www.w3.org/2000/svg" className="w-12 h-12 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2"
    d="M12 14c3 0 4-1.5 4-4s-1-4-4-4-4 1.5-4 4 1 4 4 4zM6 18c0-1.5 3-2.25 6-2.25S18 16.5 18 18v1H6v-1z" />
</svg>
        );
      case 'electronics':
        return (
          <svg xmlns="http://www.w3.org/2000/svg" className="w-12 h-12 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2}
              d="M9 2v2m6-2v2M9 20v2m6-2v2M4 9H2m2 6H2m20-6h-2m2 6h-2M7 7h10v10H7V7z" />
          </svg>
        );
      default:
        return null;
    }
  };

  return (
    <div
      className={`
        rounded-lg shadow-lg transform hover:-translate-y-1 transition cursor-pointer
        overflow-hidden    /* 追加: 角丸部分で画像をクリップ */
        ${item.hideImage ? 'bg-purple-50 hover:bg-purple-100' : 'bg-white'}
      `}
      onClick={() => onClick(item)}
    >
      {item.hideImage ? (
        /* 画像なしモード */
        <div className="flex items-center justify-center h-32">
          {renderIcon()}
        </div>
      ) : (
        /* 画像ありモード: 上部の角丸を image にも適用 */
        <img
          src={item.imageUrl}
          alt={item.title}
          className="w-full h-32 object-cover rounded-t-lg"
        />
      )}
      <div className={`p-4 text-center ${item.hideImage ? 'pt-6' : ''}`}>
        <h3 className={`
          ${item.hideImage
            ? 'text-xl font-bold text-purple-800'
            : 'text-lg font-semibold text-gray-800'}
        `}>
          {item.title}
        </h3>
        {item.hideImage && (
          <p className="text-sm text-purple-700 mt-1 truncate">{item.description}</p>
        )}
      </div>
    </div>
  );
};


    const App = () => {
      const [selectedItem, setSelectedItem] = useState(null);

      // popstate でブラウザの戻る/進むをハンドル
      useEffect(() => {
        const onPop = e => {
          if (e.state?.item) setSelectedItem(e.state.item);
          else setSelectedItem(null);
        };
        window.addEventListener('popstate', onPop);
        return () => window.removeEventListener('popstate', onPop);
      }, []);

      const handleItemClick = item => {
        // 履歴に state を追加
        window.history.pushState({ item }, '', '');
        setSelectedItem(item);
      };

      const handleBack = () => window.history.back();

      return (
        <div className="bg-gray-50 font-sans">
          <Header />
          <main>
            {selectedItem ? (
              <DetailPage item={selectedItem} onBack={handleBack}/>
            ) : (
              <>
                <ProfileCard />

                {/* Hobbies セクション */}
                <section id="hobbies" className="py-20 bg-white">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center mb-12">Hobbies</h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-6">
                      {hobbiesData.map((h, i) => (
                        <SmallCard key={i} item={{...h, imageUrl: h.imageUrl}} onClick={handleItemClick}/>
                      ))}
                    </div>
                  </div>
                </section>

                {/* Jobs セクション */}
                <section id="jobs" className="py-20 bg-gray-50">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center mb-12">Part-time Jobs</h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-6">
                      {jobsData.map((j, i) => (
                        <SmallCard key={i} item={{...j, imageUrl: j.imageUrl}} onClick={handleItemClick}/>
                      ))}
                    </div>
                  </div>
                </section>

                {/* Timeline セクション */}
                <section id="timeline" className="py-20 bg-gray-100">
                  <div className="container mx-auto px-6">
                    <h2 className="text-4xl font-extrabold text-center text-gray-800 mb-16">My Timeline</h2>
                    <div className="relative wrap overflow-hidden">
                        <div className="hidden absolute border-opacity-20 border-gray-700 h-full border" style={{left: '50%'}}></div>
                        {portfolioData.map((period, index) => (
                           <div key={index} className="mb-8 flex flex-col items-center w-full">
                                <div className="z-20 flex items-center bg-purple-500 shadow-xl w-8 h-8 rounded-full mb-4">
                                    <h1 className="mx-auto font-semibold text-lg text-white">{index + 1}</h1>
                                </div>
                                <div className="order-2 bg-white rounded-lg shadow-xl w-full max-w-lg px-6 py-4 mx-auto">
                                   <div className="bg-gray-100 p-6 rounded-xl shadow-md border border-gray-200">
                                        <div className="flex items-center mb-4">
                                            <div>
                                                <h2 className="text-2xl font-bold text-gray-800">{period.era}</h2>
                                                <p className="text-purple-700 font-semibold">{period.duration}</p>
                                            </div>
                                        </div>
                                        <p className="text-gray-600 mb-6">{period.introduction}</p>
                                        <div className="grid grid-cols-1 gap-6">
                                            {period.projects.map((project, pIndex) => (
                                                <ProjectCard key={pIndex} project={project} onClick={handleItemClick} />
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                  </div>
                </section>
              </>
            )}
          </main>
          <footer className="bg-gray-900 text-white py-8">
            <div className="container mx-auto text-center">
              <p>&copy; {new Date().getFullYear()} Haruto Tanaka. All Rights Reserved.</p>
            </div>
          </footer>
        </div>
      );
    };
    
    ReactDOM.render(<App />, document.getElementById('root'));

  </script>
</body>
</html>